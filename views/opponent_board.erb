<% if session[:opponent_board_display] %>

<h3><div class="opponent"></div></h3>
  <div class="<%= @opponent_name %>"><%= @opponent_name %>: <%= @opponent_ships_left %> Ships Remaining </div>
  
  <% board_layout = @opponent_grid %>
  <% row_label = @grid_columns %>
  <% row_label2 = [] %>
  <% row_label.each do |v| %>
      <% if v.length == 1 %>
          <% row_label2 << " #{v}" %>
      <% else %>
          <% row_label2 << v %>
      <% end %>
  <% end %>
  <% row_label2 %>
  <% column_label = @grid_rows %>

    <table id="opponent_table">
            <tr>
            <th> </th>
            <% row_label2.each do |v| %>
          <th><%= v %></th>
            <% end %>
            </tr>
          
      
            <% board_layout.each_with_index do |v, i| %>
              <tr>
                <th><%= "#{column_label[i]}" %></th>
                <% v.each do |v| %>
                  <% v %>
        <td name="cell_coordinates" class="['<%= v.row %>', '<%= v.column %>']" id="<%= v.status %>"><%= v.render_without_ships %></td>                     
      <% end %>
      </tr> 
    <% end %>    
        </table> 

<div class="key">
        <h3>Key:</h3>
<p><span style="font-weight: bold;"> . </span> = Unknown Status, Yet to be Fired Upon </p>
<p> X = Hit! A Ship Has Been Hit! </p>
<p> M = Miss! That Was a Close Call! </p>   
</div>        
</div>
<% end %>

